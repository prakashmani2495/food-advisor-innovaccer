"use strict";$(document).ready((function(){function checkNewUser(){var ecnt=0;return""==$("#full_name").val().trim()?(ecnt+=1,$("#popover_full_name").removeClass("d-none"),$("#popover_full_name").html("Please enter your full name.")):$("#full_name").val().trim().match(/^[a-zA-Z ]*$/)?$("#full_name").val().trim().length<5?(ecnt+=1,$("#popover_full_name").removeClass("d-none"),$("#popover_full_name").html("Please provide atleast 5 alpha characters.")):$("#popover_full_name").addClass("d-none"):(ecnt+=1,$("#popover_full_name").removeClass("d-none"),$("#popover_full_name").html("Field should contain only alphabetic characters.")),""==$("#new_email_id").val().trim()?(ecnt+=1,$("#popover_new_email_id").removeClass("d-none"),$("#popover_new_email_id").html("Please enter an email address.")):validateEmail($("#new_email_id").val())?$("#popover_new_email_id").addClass("d-none"):(ecnt+=1,$("#popover_new_email_id").removeClass("d-none"),$("#popover_new_email_id").html("Please enter valid email address.")),""==$("#new_password").val().trim()?(ecnt+=1,$("#popover_new_password").removeClass("d-none"),$("#popover_new_password").html("Please enter the new password.")):$("#new_password").val().length<8?(ecnt+=1,$("#popover_new_password").removeClass("d-none"),$("#popover_new_password").html("Please enter the valid password.")):$("#popover_new_password").addClass("d-none"),""==$("#confirm_password").val().trim()?(ecnt+=1,$("#popover_confirm_password").removeClass("d-none"),$("#popover_confirm_password").html("Please enter the confirm password.")):$("#confirm_password").val().length<8?(ecnt+=1,$("#popover_confirm_password").removeClass("d-none"),$("#popover_confirm_password").html("Please enter the valid password.")):$("#confirm_password").val().trim()!==$("#new_password").val().trim()?(ecnt+=1,$("#popover_confirm_password").removeClass("d-none"),$("#popover_confirm_password").html("Confirm pasword doesn't match with New password.")):$("#popover_confirm_password").addClass("d-none"),ecnt}function validateEmail($email){var emailReg;return/^([\w-\.]+@([\w-]+\.)+[\w-]{2,6})?$/.test($email)}$("#login_section_toggle").on("click",(function(){$("#welcome_section").addClass("d-none"),$("#registration_section").addClass("d-none"),$("#login_section").removeClass("d-none"),$("#notification").addClass("d-none")})),$("#registration_section_toggle").on("click",(function(){$("#welcome_section").addClass("d-none"),$("#login_section").addClass("d-none"),$("#registration_section").removeClass("d-none"),$("#notification").addClass("d-none")})),$("#login_section_toggle_register").on("click",(function(){$("#welcome_section").addClass("d-none"),$("#registration_section").addClass("d-none"),$("#login_section").removeClass("d-none"),$("#notification").addClass("d-none")})),$("#registration_section_toggle_signin").on("click",(function(){$("#welcome_section").addClass("d-none"),$("#login_section").addClass("d-none"),$("#registration_section").removeClass("d-none"),$("#notification").addClass("d-none")})),$("#signin-btn-submit").on("click",(function(){var user=$("#email_id").val().trim(),pswd=$("#current_password").val().trim();""==user&&""==pswd?($("#popover_email_id").removeClass("d-none"),$("#popover_current_password").removeClass("d-none")):""==user?($("#popover_email_id").removeClass("d-none"),$("#popover_current_password").addClass("d-none")):""==pswd?($("#popover_email_id").addClass("d-none"),$("#popover_current_password").removeClass("d-none")):""!=user&&""!=pswd&&($("#signin-btn-submit").attr("disabled",!0),$("#signin-btn-text").addClass("d-none"),$("#lds-submit-loader").removeClass("d-none"),$("#popover_email_id").addClass("d-none"),$("#popover_current_password").addClass("d-none"),$("#registration_section_toggle_signin").attr("disabled",!0),$.ajax({type:"POST",headers:{"Content-Type":"application/json",accept:"application/json"},url:"/users/login/api/",data:JSON.stringify({email_id:user,password:pswd}),success:function(response){var tmpData=response;"success"==tmpData.status?window.location.href=tmpData.location:($("#notification").text(response.desc),$("#notification").removeClass("alert-soft-success"),$("#notification").addClass("alert-soft-danger"),$("#notification").removeClass("d-none"),$("#signin-btn-text").removeClass("d-none"),$("#lds-submit-loader").addClass("d-none"),$("#signin-btn-submit").attr("disabled",!1),$("#registration_section_toggle_signin").attr("disabled",!1))}}))})),$(document).on("click","#register-btn-submit",(function(){0==checkNewUser()&&($("#register-btn-text").addClass("d-none"),$("#lds-register-loader").removeClass("d-none"),$("#register-btn-submit").attr("disabled",!0),$("#login_section_toggle_register").attr("disabled",!0),$.ajax({type:"POST",headers:getHeader(),url:"/users/register/api/?_="+(new Date).getTime(),data:JSON.stringify({full_name:$("#full_name").val().trim(),email_id:$("#new_email_id").val().trim(),password:$("#confirm_password").val().trim()}),success:function(response){"success"==response.status?($("#notification").removeClass("alert-soft-danger"),$("#notification").addClass("alert-soft-success"),$("#registration_form")[0].reset(),$("#notification").text(response.desc),$("#notification").removeClass("d-none")):($("#notification").text(response.desc),$("#notification").removeClass("alert-soft-success"),$("#notification").addClass("alert-soft-danger"),$("#notification").removeClass("d-none")),$("#register-btn-text").removeClass("d-none"),$("#lds-register-loader").addClass("d-none"),$("#register-btn-submit").attr("disabled",!1),$("#login_section_toggle_register").attr("disabled",!1)}}))}))}));